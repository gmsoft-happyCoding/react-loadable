{"version":3,"file":"react-loadable.min.js","sources":["../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/inheritsLoose.js","../src/index.js"],"sourcesContent":["function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nmodule.exports = _inheritsLoose;","\"use strict\";\nconst React = require(\"react\");\n\nconst ALL_INITIALIZERS = [];\nconst READY_INITIALIZERS = [];\n\nfunction isWebpackReady(getModuleIds) {\n  if (typeof __webpack_modules__ !== \"object\") {\n    return false;\n  }\n\n  return getModuleIds().every(moduleId => {\n    return (\n      typeof moduleId !== \"undefined\" &&\n      typeof __webpack_modules__[moduleId] !== \"undefined\"\n    );\n  });\n}\n\nfunction load(loader) {\n  let promise = loader();\n\n  let state = {\n    loading: true,\n    loaded: null,\n    error: null\n  };\n\n  state.promise = promise\n    .then(loaded => {\n      state.loading = false;\n      state.loaded = loaded;\n      return loaded;\n    })\n    .catch(err => {\n      state.loading = false;\n      state.error = err;\n      throw err;\n    });\n\n  return state;\n}\n\nfunction loadMap(obj) {\n  let state = {\n    loading: false,\n    loaded: {},\n    error: null\n  };\n\n  let promises = [];\n\n  try {\n    Object.keys(obj).forEach(key => {\n      let result = load(obj[key]);\n\n      if (!result.loading) {\n        state.loaded[key] = result.loaded;\n        state.error = result.error;\n      } else {\n        state.loading = true;\n      }\n\n      promises.push(result.promise);\n\n      result.promise\n        .then(res => {\n          state.loaded[key] = res;\n        })\n        .catch(err => {\n          state.error = err;\n        });\n    });\n  } catch (err) {\n    state.error = err;\n  }\n\n  state.promise = Promise.all(promises)\n    .then(res => {\n      state.loading = false;\n      return res;\n    })\n    .catch(err => {\n      state.loading = false;\n      throw err;\n    });\n\n  return state;\n}\n\nfunction resolve(obj) {\n  return obj && obj.__esModule ? obj.default : obj;\n}\n\nfunction render(loaded, props) {\n  return React.createElement(resolve(loaded), props);\n}\n\nfunction createLoadableComponent(loadFn, options) {\n  if (!options.loading) {\n    throw new Error(\"react-loadable requires a `loading` component\");\n  }\n\n  let opts = Object.assign(\n    {\n      loader: null,\n      loading: null,\n      delay: 200,\n      timeout: null,\n      render: render,\n      webpack: null,\n      modules: null\n    },\n    options\n  );\n\n  let res = null;\n\n  function init() {\n    if (!res) {\n      res = loadFn(opts.loader);\n    }\n    return res.promise;\n  }\n\n  ALL_INITIALIZERS.push(init);\n\n  if (typeof opts.webpack === \"function\") {\n    READY_INITIALIZERS.push(() => {\n      if (isWebpackReady(opts.webpack)) {\n        return init();\n      }\n    });\n  }\n\n  return class LoadableComponent extends React.Component {\n    constructor(props) {\n      super(props);\n      this.retry = this.retry.bind(this);\n      init();\n\n      this.state = {\n        error: res.error,\n        pastDelay: false,\n        timedOut: false,\n        loading: res.loading,\n        loaded: res.loaded\n      };\n    }\n\n    static preload() {\n      return init();\n    }\n\n    componentWillMount() {\n      this._mounted = true;\n      this._loadModule();\n    }\n\n    _loadModule() {\n      if (this.context.loadable && Array.isArray(opts.modules)) {\n        opts.modules.forEach(moduleName => {\n          this.context.loadable.report(moduleName);\n        });\n      }\n\n      if (!res.loading) {\n        return;\n      }\n\n      if (typeof opts.delay === \"number\") {\n        if (opts.delay === 0) {\n          this.setState({ pastDelay: true });\n        } else {\n          this._delay = setTimeout(() => {\n            this.setState({ pastDelay: true });\n          }, opts.delay);\n        }\n      }\n\n      if (typeof opts.timeout === \"number\") {\n        this._timeout = setTimeout(() => {\n          this.setState({ timedOut: true });\n        }, opts.timeout);\n      }\n\n      let update = () => {\n        if (!this._mounted) {\n          return;\n        }\n\n        this.setState({\n          error: res.error,\n          loaded: res.loaded,\n          loading: res.loading\n        });\n\n        this._clearTimeouts();\n      };\n\n      res.promise\n        .then(() => {\n          update();\n        })\n        .catch(err => {\n          update();\n        });\n    }\n\n    componentWillUnmount() {\n      this._mounted = false;\n      this._clearTimeouts();\n    }\n\n    _clearTimeouts() {\n      clearTimeout(this._delay);\n      clearTimeout(this._timeout);\n    }\n\n    retry() {\n      this.setState({ error: null, loading: true, timedOut: false });\n      res = loadFn(opts.loader);\n      this._loadModule();\n    }\n\n    render() {\n      if (this.state.loading || this.state.error) {\n        return React.createElement(opts.loading, {\n          isLoading: this.state.loading,\n          pastDelay: this.state.pastDelay,\n          timedOut: this.state.timedOut,\n          error: this.state.error,\n          retry: this.retry\n        });\n      } else if (this.state.loaded) {\n        return opts.render(this.state.loaded, this.props);\n      } else {\n        return null;\n      }\n    }\n  };\n}\n\nfunction Loadable(opts) {\n  return createLoadableComponent(load, opts);\n}\n\nfunction LoadableMap(opts) {\n  if (typeof opts.render !== \"function\") {\n    throw new Error(\"LoadableMap requires a `render(loaded, props)` function\");\n  }\n\n  return createLoadableComponent(loadMap, opts);\n}\n\nLoadable.Map = LoadableMap;\n\nclass Capture extends React.Component {\n  getChildContext() {\n    return {\n      loadable: {\n        report: this.props.report\n      }\n    };\n  }\n\n  render() {\n    return React.Children.only(this.props.children);\n  }\n}\n\nLoadable.Capture = Capture;\n\nfunction flushInitializers(initializers) {\n  let promises = [];\n\n  while (initializers.length) {\n    let init = initializers.pop();\n    promises.push(init());\n  }\n\n  return Promise.all(promises).then(() => {\n    if (initializers.length) {\n      return flushInitializers(initializers);\n    }\n  });\n}\n\nLoadable.preloadAll = () => {\n  return new Promise((resolve, reject) => {\n    flushInitializers(ALL_INITIALIZERS).then(resolve, reject);\n  });\n};\n\nLoadable.preloadReady = () => {\n  return new Promise((resolve, reject) => {\n    // We always will resolve, errors should be handled within loading UIs.\n    flushInitializers(READY_INITIALIZERS).then(resolve, resolve);\n  });\n};\n\nmodule.exports = Loadable;\n"],"names":["self","ReferenceError","subClass","superClass","prototype","Object","create","constructor","__proto__","ALL_INITIALIZERS","READY_INITIALIZERS","load","loader","promise","state","loading","loaded","error","then","catch","err","loadMap","obj","promises","keys","forEach","key","result","push","res","Promise","all","render","props","React","createElement","__esModule","default","createLoadableComponent","loadFn","options","Error","opts","assign","delay","timeout","webpack","modules","init","getModuleIds","__webpack_modules__","every","moduleId","retry","_this","bind","pastDelay","timedOut","preload","componentWillMount","_mounted","_loadModule","this","context","loadable","Array","isArray","moduleName","_this2","report","setState","_delay","setTimeout","_timeout","update","_clearTimeouts","componentWillUnmount","clearTimeout","isLoading","Component","Loadable","flushInitializers","initializers","length","pop","Map","Capture","getChildContext","Children","only","children","preloadAll","resolve","reject","preloadReady","module"],"mappings":"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"}