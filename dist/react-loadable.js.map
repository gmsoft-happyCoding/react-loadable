{"version":3,"file":"react-loadable.js","sources":["../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/inheritsLoose.js","../src/index.js"],"sourcesContent":["function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nmodule.exports = _inheritsLoose;","\"use strict\";\nconst React = require(\"react\");\n\nconst ALL_INITIALIZERS = [];\nconst READY_INITIALIZERS = [];\n\nfunction isWebpackReady(getModuleIds) {\n  if (typeof __webpack_modules__ !== \"object\") {\n    return false;\n  }\n\n  return getModuleIds().every(moduleId => {\n    return (\n      typeof moduleId !== \"undefined\" &&\n      typeof __webpack_modules__[moduleId] !== \"undefined\"\n    );\n  });\n}\n\nfunction load(loader) {\n  let promise = loader();\n\n  let state = {\n    loading: true,\n    loaded: null,\n    error: null\n  };\n\n  state.promise = promise\n    .then(loaded => {\n      state.loading = false;\n      state.loaded = loaded;\n      return loaded;\n    })\n    .catch(err => {\n      state.loading = false;\n      state.error = err;\n      throw err;\n    });\n\n  return state;\n}\n\nfunction loadMap(obj) {\n  let state = {\n    loading: false,\n    loaded: {},\n    error: null\n  };\n\n  let promises = [];\n\n  try {\n    Object.keys(obj).forEach(key => {\n      let result = load(obj[key]);\n\n      if (!result.loading) {\n        state.loaded[key] = result.loaded;\n        state.error = result.error;\n      } else {\n        state.loading = true;\n      }\n\n      promises.push(result.promise);\n\n      result.promise\n        .then(res => {\n          state.loaded[key] = res;\n        })\n        .catch(err => {\n          state.error = err;\n        });\n    });\n  } catch (err) {\n    state.error = err;\n  }\n\n  state.promise = Promise.all(promises)\n    .then(res => {\n      state.loading = false;\n      return res;\n    })\n    .catch(err => {\n      state.loading = false;\n      throw err;\n    });\n\n  return state;\n}\n\nfunction resolve(obj) {\n  return obj && obj.__esModule ? obj.default : obj;\n}\n\nfunction render(loaded, props) {\n  return React.createElement(resolve(loaded), props);\n}\n\nfunction createLoadableComponent(loadFn, options) {\n  if (!options.loading) {\n    throw new Error(\"react-loadable requires a `loading` component\");\n  }\n\n  let opts = Object.assign(\n    {\n      loader: null,\n      loading: null,\n      delay: 200,\n      timeout: null,\n      render: render,\n      webpack: null,\n      modules: null\n    },\n    options\n  );\n\n  let res = null;\n\n  function init() {\n    if (!res) {\n      res = loadFn(opts.loader);\n    }\n    return res.promise;\n  }\n\n  ALL_INITIALIZERS.push(init);\n\n  if (typeof opts.webpack === \"function\") {\n    READY_INITIALIZERS.push(() => {\n      if (isWebpackReady(opts.webpack)) {\n        return init();\n      }\n    });\n  }\n\n  return class LoadableComponent extends React.Component {\n    constructor(props) {\n      super(props);\n      this.retry = this.retry.bind(this);\n      init();\n\n      this.state = {\n        error: res.error,\n        pastDelay: false,\n        timedOut: false,\n        loading: res.loading,\n        loaded: res.loaded\n      };\n    }\n\n    static preload() {\n      return init();\n    }\n\n    componentWillMount() {\n      this._mounted = true;\n      this._loadModule();\n    }\n\n    _loadModule() {\n      if (this.context.loadable && Array.isArray(opts.modules)) {\n        opts.modules.forEach(moduleName => {\n          this.context.loadable.report(moduleName);\n        });\n      }\n\n      if (!res.loading) {\n        return;\n      }\n\n      if (typeof opts.delay === \"number\") {\n        if (opts.delay === 0) {\n          this.setState({ pastDelay: true });\n        } else {\n          this._delay = setTimeout(() => {\n            this.setState({ pastDelay: true });\n          }, opts.delay);\n        }\n      }\n\n      if (typeof opts.timeout === \"number\") {\n        this._timeout = setTimeout(() => {\n          this.setState({ timedOut: true });\n        }, opts.timeout);\n      }\n\n      let update = () => {\n        if (!this._mounted) {\n          return;\n        }\n\n        this.setState({\n          error: res.error,\n          loaded: res.loaded,\n          loading: res.loading\n        });\n\n        this._clearTimeouts();\n      };\n\n      res.promise\n        .then(() => {\n          update();\n        })\n        .catch(err => {\n          update();\n        });\n    }\n\n    componentWillUnmount() {\n      this._mounted = false;\n      this._clearTimeouts();\n    }\n\n    _clearTimeouts() {\n      clearTimeout(this._delay);\n      clearTimeout(this._timeout);\n    }\n\n    retry() {\n      this.setState({ error: null, loading: true, timedOut: false });\n      res = loadFn(opts.loader);\n      this._loadModule();\n    }\n\n    render() {\n      if (this.state.loading || this.state.error) {\n        return React.createElement(opts.loading, {\n          isLoading: this.state.loading,\n          pastDelay: this.state.pastDelay,\n          timedOut: this.state.timedOut,\n          error: this.state.error,\n          retry: this.retry\n        });\n      } else if (this.state.loaded) {\n        return opts.render(this.state.loaded, this.props);\n      } else {\n        return null;\n      }\n    }\n  };\n}\n\nfunction Loadable(opts) {\n  return createLoadableComponent(load, opts);\n}\n\nfunction LoadableMap(opts) {\n  if (typeof opts.render !== \"function\") {\n    throw new Error(\"LoadableMap requires a `render(loaded, props)` function\");\n  }\n\n  return createLoadableComponent(loadMap, opts);\n}\n\nLoadable.Map = LoadableMap;\n\nclass Capture extends React.Component {\n  getChildContext() {\n    return {\n      loadable: {\n        report: this.props.report\n      }\n    };\n  }\n\n  render() {\n    return React.Children.only(this.props.children);\n  }\n}\n\nLoadable.Capture = Capture;\n\nfunction flushInitializers(initializers) {\n  let promises = [];\n\n  while (initializers.length) {\n    let init = initializers.pop();\n    promises.push(init());\n  }\n\n  return Promise.all(promises).then(() => {\n    if (initializers.length) {\n      return flushInitializers(initializers);\n    }\n  });\n}\n\nLoadable.preloadAll = () => {\n  return new Promise((resolve, reject) => {\n    flushInitializers(ALL_INITIALIZERS).then(resolve, reject);\n  });\n};\n\nLoadable.preloadReady = () => {\n  return new Promise((resolve, reject) => {\n    // We always will resolve, errors should be handled within loading UIs.\n    flushInitializers(READY_INITIALIZERS).then(resolve, resolve);\n  });\n};\n\nmodule.exports = Loadable;\n"],"names":["ALL_INITIALIZERS","READY_INITIALIZERS","isWebpackReady","getModuleIds","__webpack_modules__","every","moduleId","load","loader","promise","state","loading","loaded","error","then","catch","err","loadMap","obj","promises","Object","keys","forEach","key","result","push","res","Promise","all","resolve","__esModule","default","render","props","React","createElement","createLoadableComponent","loadFn","options","Error","opts","assign","delay","timeout","webpack","modules","init","retry","bind","pastDelay","timedOut","preload","componentWillMount","_mounted","_loadModule","context","loadable","Array","isArray","moduleName","report","setState","_delay","setTimeout","_timeout","update","_clearTimeouts","componentWillUnmount","clearTimeout","isLoading","Component","Loadable","LoadableMap","Map","Capture","getChildContext","Children","only","children","flushInitializers","initializers","length","pop","preloadAll","reject","preloadReady","module"],"mappings":"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"}